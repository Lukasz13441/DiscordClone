<!-- SERVER LIST SIDEBAR HTML -->
<nav class="server-list-sidebar">
    <!-- Home/Friends Button -->
    <a asp-controller="Discord" asp-action="Index" class="server-home-btn">
        <img src="~/images/profile4.png" alt="Home" />
    </a>

    <div class="server-separator"></div>

    <!-- Server Icons -->
    @foreach (var server in ViewBag.Servers)
    {
        <a asp-controller="Discord"
           asp-action="Server"
           asp-route-id="@server.Id"
           class="server-icon-link"
           title="@server.Name">
            @if (!string.IsNullOrEmpty(server.IconURL))
            {
                <img src="@server.IconURL" alt="@server.Name" />
            }
            else
            {
                <div class="server-icon-fallback">
                    @server.Name.Substring(0, 1).ToUpper()
                </div>
            }
        </a>
    }

    <!-- Add Server Button -->
    <a asp-controller="Discord"
       asp-action="CreateNewServer"
       class="add-server-btn"
       title="Add a Server">
        +
    </a>
</nav>

<!-- ============================================ -->
<!-- CSS STYLES - Add this to your main CSS file -->
<!-- ============================================ -->
<style>
    /* =============================== */
    /*   DISCORD SERVER LIST SIDEBAR   */
    /* =============================== */

    .server-list-sidebar {
        width: 72px;
        min-width: 72px;
        max-width: 72px;
        background: #1e1f22;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 12px 0;
        gap: 8px;
        height: 100vh;
        overflow-y: auto;
        overflow-x: hidden;
        border-right: 1px solid #1a1b1e;
    }

        /* Hide scrollbar but keep functionality */
        .server-list-sidebar::-webkit-scrollbar {
            width: 0;
        }

    /* Home/Friends Button */
    .server-home-btn {
        width: 48px;
        height: 48px;
        min-height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #313338;
        transition: all 0.2s ease;
        position: relative;
        text-decoration: none;
        margin-bottom: 8px;
        overflow: hidden;
    }

        .server-home-btn::before {
            content: '';
            position: absolute;
            left: -12px;
            width: 8px;
            height: 0;
            background: #f2f3f5;
            border-radius: 0 4px 4px 0;
            transition: height 0.2s ease;
        }

        .server-home-btn:hover {
            border-radius: 35%;
            background: #5865f2;
        }

            .server-home-btn:hover::before {
                height: 20px;
            }

        .server-home-btn.active {
            border-radius: 35%;
            background: #5865f2;
        }

            .server-home-btn.active::before {
                height: 40px;
            }

        .server-home-btn img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

    /* Separator */
    .server-separator {
        width: 32px;
        height: 2px;
        background: #35383e;
        border-radius: 1px;
        margin: 4px 0;
    }

    /* Server Icon */
    .server-icon-link {
        width: 48px;
        height: 48px;
        min-height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #313338;
        transition: all 0.2s ease;
        position: relative;
        text-decoration: none;
        overflow: hidden;
    }

        .server-icon-link::before {
            content: '';
            position: absolute;
            left: -12px;
            width: 8px;
            height: 0;
            background: #f2f3f5;
            border-radius: 0 4px 4px 0;
            transition: height 0.2s ease;
        }

        .server-icon-link:hover {
            border-radius: 35%;
        }

            .server-icon-link:hover::before {
                height: 20px;
            }

        .server-icon-link.active {
            border-radius: 35%;
        }

            .server-icon-link.active::before {
                height: 40px;
            }

        .server-icon-link img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: inherit;
        }

    /* Fallback for servers without icons */
    .server-icon-fallback {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: 600;
        color: #f2f3f5;
        background: #5865f2;
        border-radius: inherit;
    }

    /* Add Server Button */
    .add-server-btn {
        width: 48px;
        height: 48px;
        min-height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #313338;
        color: #23a55a;
        font-size: 28px;
        font-weight: 300;
        line-height: 1;
        transition: all 0.2s ease;
        border: none;
        cursor: pointer;
        text-decoration: none;
        margin-top: auto;
    }

        .add-server-btn:hover {
            border-radius: 35%;
            background: #23a55a;
            color: #fff;
        }
</style>